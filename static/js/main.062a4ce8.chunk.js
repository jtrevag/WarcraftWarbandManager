(this["webpackJsonpwarcraft-warband-manager"]=this["webpackJsonpwarcraft-warband-manager"]||[]).push([[0],{128:function(e,t){},129:function(e,t){},156:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(11),r=a.n(i),s=(a(53),a(10)),l=a(2),o=a(3),d=a(4),u=a(20),j=(a(54),a(55),a(1));function b(e){var t=e.setView;return Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{className:"homeButton btn btn-primary",type:"button",onClick:function(){return t("Booster")},children:"Booster Generator"}),Object(j.jsx)("button",{className:"homeButton btn btn-primary",type:"button",onClick:function(){return t("Manager")},children:"Warband Manager"})]})}var m=a(5);function h(e){var t=e.character;console.log(t.fields);var a=t.get("Character Card")[0].url,n=t.get("Item Card (from Card 1)")[0].url,c=t.get("Item Card (from Card 2)")[0].url;return Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-5 d-print-inline",children:Object(j.jsx)("img",{className:"img-fluid",src:a,alt:"Character Card"})}),Object(j.jsx)("div",{className:"col-3 d-print-inline",children:Object(j.jsx)("img",{className:"img-fluid",src:n,alt:"Item Card 1"})}),Object(j.jsx)("div",{className:"col-3 d-print-inline",children:Object(j.jsx)("img",{className:"img-fluid",src:c,alt:"Item Card 2"})})]},t.get("Id"))}var v=a(8);a(57);function f(e){var t=e.setView,a=e.miniatures,c=Object(n.useState)([]),i=Object(m.a)(c,2),r=i[0],s=i[1],l=Object(n.useState)(""),o=Object(m.a)(l,2),d=o[0],u=o[1],b=[{value:"Horde",label:"Horde"},{value:"Alliance",label:"Alliance"},{value:"Monster",label:"Monster"}];return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"mb-3 row d-print-none",children:[Object(j.jsx)("h3",{children:"Random Booster Generator"}),Object(j.jsx)("div",{className:"col-md-4",children:Object(j.jsx)("button",{className:"btn btn-danger",onClick:function(){t("Home")},children:"Go Back"})}),Object(j.jsx)("div",{className:"col-md-4",children:Object(j.jsx)(v.a,{onChange:function(e){u(e?e.value:"")},isClearable:!0,options:b})}),Object(j.jsx)("div",{className:"col-md-4",children:Object(j.jsx)("button",{className:"btn btn-primary",onClick:function(){!function(){var e=d;function t(e){return Math.floor(Math.random()*e)}e||(e=b[t(3)].value);var n=a.filter((function(t){return t.get("Faction")===e}));console.log(n);var c=n.filter((function(e){return"Common"!==e.get("Rarity")})),i=n.filter((function(e){return"Rare"===e.get("Rarity")})),r=n.filter((function(e){return"Common"===e.get("Rarity")})),l=t(r.length),o=c[t(c.length)],u=null,j=r[l];if("Epic"===o.get("Rarity"))u=i[t(i.length)];else do{u=r[t(r.length)]}while(j.get("Character Name")===u.get("Character Name"));s([o,u,j])}()},children:"Generate Booster"})})]}),Object(j.jsx)("div",{className:"d-grid gap-2",children:r.map((function(e){return e?Object(j.jsx)(h,{character:e}):null}))})]})}function O(e){var t=e.index,a=e.character,n=e.setManagerView,c=e.selectIndex;return console.log(t,a),Object(j.jsxs)("div",{className:"card-group",children:[Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("img",{src:a?a.get("Character Card")[0].url:"...",className:"card-img-top",alt:a?a.get("Character Name"):"Hero Image"}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)("h5",{className:"card-title",children:a?a.get("Character Name"):"Hero Name"})})]}),Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("img",{src:"...",className:"card-img-top",alt:"..."}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)("h5",{className:"card-title",children:"Action Bar 1"})})]}),Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("img",{src:"...",className:"card-img-top",alt:"..."}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)("h5",{className:"card-title",children:"Action Bar 2"})})]}),Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("img",{src:"...",className:"card-img-top",alt:"..."}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)("h5",{className:"card-title",children:"Action Bar 3"})})]}),Object(j.jsx)("div",{className:"card",children:Object(j.jsx)("div",{className:"my-auto",children:Object(j.jsx)("button",{onClick:function(){c(t),n("CharacterViewer")},className:"btn btn-primary",children:"Edit Character"})})})]})}function g(e){var t=e.setView,a=e.setManagerView,n=e.army,c=e.faction,i=e.setFaction,r=e.selectIndex;return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"row m-4",children:[Object(j.jsx)("div",{className:"col-md-4",children:Object(j.jsx)("button",{className:"btn btn-danger",onClick:function(){t("Home")},children:"Go Back"})}),Object(j.jsx)("div",{className:"col-4 d-print-none",children:Object(j.jsx)(v.a,{onChange:function(e){i(e?e.value:"")},isClearable:!0,options:[{value:"Horde",label:"Horde"},{value:"Alliance",label:"Alliance"},{value:"Monster",label:"Monster"}]})})]}),Object(j.jsx)("div",{children:c?n.map((function(e,t){return Object(j.jsx)(O,{index:t,character:e,setManagerView:a,faction:c,selectIndex:r},t)})):""})]})}a(70);function x(e){var t=e.miniatures,a=e.faction,c=e.setManagerView,i=e.setArmyUnit,r=e.index,s=Object(n.useState)(void 0),l=Object(m.a)(s,2),o=l[0],d=l[1],u=Object(n.useState)(void 0),b=Object(m.a)(u,2),h=b[0],f=b[1],O=Object(n.useState)(void 0),g=Object(m.a)(O,2),x=g[0],N=g[1],C=t.filter((function(e){return e.get("Faction")===a})),p=C.filter((function(e){return(!o||e.get("Race")===o.value)&&(!h||e.get("Class")===h.value)})),w=[],y=[];function V(e){N(x===e?void 0:e)}return function(e,t,a,n,c){var i=[],r=[];e.forEach((function(e){c&&e.get("Class")!==c.value||-1!==i.indexOf(e.get("Race"))||(i.push(e.get("Race")),t.push({value:e.get("Race"),label:e.get("Race")})),n&&e.get("Race")!==n.value||-1!==r.indexOf(e.get("Class"))||(r.push(e.get("Class")),a.push({value:e.get("Class"),label:e.get("Class")}))})),t.sort((function(e,t){return e.value>t.value})),a.sort((function(e,t){return e.value>t.value}))}(C,w,y,o,h),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"mb-3 row d-print-none",children:[Object(j.jsx)("div",{className:"col-3",children:Object(j.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return c("ArmyViewer")},children:"Go Back"})}),Object(j.jsx)("div",{className:"col-3",children:Object(j.jsx)(v.a,{isClearable:!0,options:w,onChange:function(e){d(e)}})}),Object(j.jsx)("div",{className:"col-3",children:Object(j.jsx)(v.a,{isClearable:!0,options:y,onChange:function(e){f(e)}})}),x?Object(j.jsx)("div",{className:"col-3",children:Object(j.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){console.log(r,V),i(r,x),c("ArmyViewer")},children:"Confirm"})}):void 0]}),Object(j.jsx)("div",{className:"row",children:p.map((function(e){return Object(j.jsx)("div",{className:"col-4 my-1 d-print-inline",children:Object(j.jsx)("img",{className:"img-fluid"+(x===e?" selected":""),src:e.get("Character Card")[0].url,alt:"Character Card",width:"416",height:"297",onClick:function(){V(e)}})},e.get("Character Name"))}))})]})}var N=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={army:Array.apply(null,Array(3)).map((function(){})),managerView:"ArmyViewer",faction:void 0,index:-1},n}return Object(o.a)(a,[{key:"setManagerView",value:function(){this.setState({managerView:"CharacterViewer"})}},{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Warband Manager"}),"CharacterViewer"===this.state.managerView?Object(j.jsx)(x,{faction:this.state.faction,miniatures:this.props.miniatures,setManagerView:function(t){e.setState({managerView:t})},index:this.state.index,setArmyUnit:function(t,a){var n=e.state.army.slice();n[t]=a,e.setState({army:n})}}):Object(j.jsx)(g,{army:this.state.army,setView:function(t){e.props.setView(t)},setManagerView:function(t){e.setState({managerView:t})},faction:this.state.faction,setFaction:function(t){e.setState({faction:t})},selectIndex:function(t){e.setState({index:t})}})]})}}]),a}(n.Component),C=a(48),p=a.n(C),w=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={count:0,view:"Home",miniatures:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;new p.a({apiKey:"keycAAcHBy1WJJYyl"}).base("appi27ynSRiwJ0WEQ")("Miniatures").select({view:"Grid view"}).eachPage((function(t,a){e.setState({miniatures:[].concat(Object(s.a)(e.state.miniatures),Object(s.a)(t))}),a()}))}},{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{className:"App container",children:[Object(j.jsx)("h1",{className:"d-print-none",children:"Warcraft Army Manager"}),"Home"===this.state.view?Object(j.jsx)(b,{setView:function(t){e.setState({view:t})}}):"Booster"===this.state.view?Object(j.jsx)(f,{miniatures:this.state.miniatures,setView:function(t){e.setState({view:t})}}):"Manager"===this.state.view?Object(j.jsx)(N,{miniatures:this.state.miniatures,setView:function(t){e.setState({view:t})}}):""]})}}]),a}(n.Component),y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,159)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),i(e),r(e)}))};a(142),a(143);r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(w,{})}),document.getElementById("root")),y()},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){},70:function(e,t,a){}},[[156,1,2]]]);
//# sourceMappingURL=main.062a4ce8.chunk.js.map