(this["webpackJsonpwarcraft-warband-manager"]=this["webpackJsonpwarcraft-warband-manager"]||[]).push([[0],{127:function(e,t){},128:function(e,t){},155:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(11),i=a.n(r),s=(a(53),a(10)),l=a(2),o=a(3),d=a(4),j=a(20),u=(a(54),a(55),a(1));function m(e){var t=e.setView;return Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{className:"homeButton btn btn-primary",type:"button",onClick:function(){return t("Booster")},children:"Booster Generator"}),Object(u.jsx)("button",{className:"homeButton btn btn-primary",type:"button",onClick:function(){return t("Manager")},children:"Warband Manager"})]})}var b=a(5);function h(e){var t=e.character;console.log(t.fields);var a=t.get("Character Card")[0].url,n=t.get("Item Card (from Card 1)")[0].url,c=t.get("Item Card (from Card 2)")[0].url;return Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-5 d-print-inline",children:Object(u.jsx)("img",{className:"img-fluid",src:a,alt:"Character Card"})}),Object(u.jsx)("div",{className:"col-3 d-print-inline",children:Object(u.jsx)("img",{className:"img-fluid",src:n,alt:"Item Card 1"})}),Object(u.jsx)("div",{className:"col-3 d-print-inline",children:Object(u.jsx)("img",{className:"img-fluid",src:c,alt:"Item Card 2"})})]},t.get("Id"))}var v=a(8);a(57);function O(e){var t=e.setView,a=e.miniatures,c=Object(n.useState)([]),r=Object(b.a)(c,2),i=r[0],s=r[1],l=Object(n.useState)(""),o=Object(b.a)(l,2),d=o[0],j=o[1],m=[{value:"Horde",label:"Horde"},{value:"Alliance",label:"Alliance"},{value:"Monster",label:"Monster"}];return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"mb-3 row d-print-none",children:[Object(u.jsx)("h3",{children:"Random Booster Generator"}),Object(u.jsx)("div",{className:"col-md-4",children:Object(u.jsx)("button",{className:"btn btn-danger",onClick:function(){t("Home")},children:"Go Back"})}),Object(u.jsx)("div",{className:"col-md-4",children:Object(u.jsx)(v.a,{onChange:function(e){j(e?e.value:"")},isClearable:!0,options:m})}),Object(u.jsx)("div",{className:"col-md-4",children:Object(u.jsx)("button",{className:"btn btn-primary",onClick:function(){!function(){var e=d;function t(e){return Math.floor(Math.random()*e)}e||(e=m[t(3)].value);var n=a.filter((function(t){return t.get("Faction")===e}));console.log(n);var c=n.filter((function(e){return"Common"!==e.get("Rarity")})),r=n.filter((function(e){return"Rare"===e.get("Rarity")})),i=n.filter((function(e){return"Common"===e.get("Rarity")})),l=t(i.length),o=c[t(c.length)],j=null,u=i[l];if("Epic"===o.get("Rarity"))j=r[t(r.length)];else do{j=i[t(i.length)]}while(u.get("Character Name")===j.get("Character Name"));s([o,j,u])}()},children:"Generate Booster"})})]}),Object(u.jsx)("div",{className:"d-grid gap-2",children:i.map((function(e){return e?Object(u.jsx)(h,{character:e}):null}))})]})}function f(e){e.character;var t=e.setManagerView;return Object(u.jsxs)("div",{className:"card-group",children:[Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("img",{src:"...",className:"card-img-top",alt:"..."}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)("h5",{className:"card-title",children:"Hero Name"})})]}),Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("img",{src:"...",className:"card-img-top",alt:"..."}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)("h5",{className:"card-title",children:"Item Name 1"})})]}),Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("img",{src:"...",className:"card-img-top",alt:"..."}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)("h5",{className:"card-title",children:"Item Name 2"})})]}),Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("img",{src:"...",className:"card-img-top",alt:"..."}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)("h5",{className:"card-title",children:"Item Name 3"})})]}),Object(u.jsx)("div",{className:"card",children:Object(u.jsx)("div",{className:"my-auto",children:Object(u.jsx)("button",{onClick:function(){t("CharacterViewer")},className:"btn btn-primary",children:"Edit Character"})})})]})}function g(e){var t=e.setView,a=e.setManagerView,n=e.army,c=e.faction,r=e.setFaction;return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"col-md-4",children:Object(u.jsx)("button",{className:"btn btn-danger",onClick:function(){t("Home")},children:"Go Back"})}),Object(u.jsx)("div",{className:"mb-3 row d-print-none",children:Object(u.jsx)("div",{className:"col-md-4",children:Object(u.jsx)(v.a,{onChange:function(e){r(e?e.value:"")},isClearable:!0,options:[{value:"Horde",label:"Horde"},{value:"Alliance",label:"Alliance"},{value:"Monster",label:"Monster"}]})})}),Object(u.jsx)("div",{children:c?n.map((function(e,t){return Object(u.jsx)(f,{character:e,setManagerView:a,faction:c},t)})):""})]})}function x(e){var t=e.miniatures,a=e.faction,c=Object(n.useState)(void 0),r=Object(b.a)(c,2),i=r[0],s=r[1],l=Object(n.useState)(void 0),o=Object(b.a)(l,2),d=o[0],j=o[1],m=t.filter((function(e){return e.get("Faction")===a})),h=m.filter((function(e){return(!i||e.get("Race")===i.value)&&(!d||e.get("Class")===d.value)})),O=[],f=[];return function(e,t,a){var n=[],c=[];e.forEach((function(e){-1===n.indexOf(e.get("Race"))&&(n.push(e.get("Race")),t.push({value:e.get("Race"),label:e.get("Race")})),-1===c.indexOf(e.get("Class"))&&(c.push(e.get("Class")),a.push({value:e.get("Class"),label:e.get("Class")}))})),t.sort((function(e,t){return e.value>t.value})),a.sort((function(e,t){return e.value>t.value}))}(m,O,f),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"mb-3 row d-print-none",children:[Object(u.jsx)("div",{className:"col-4",children:Object(u.jsx)(v.a,{isClearable:!0,options:O,onChange:function(e){s(e)}})}),Object(u.jsx)("div",{className:"col-md-4",children:Object(u.jsx)(v.a,{isClearable:!0,options:f,onChange:function(e){j(e)}})})]}),Object(u.jsx)("div",{className:"row",children:h.map((function(e){return Object(u.jsx)("div",{className:"col-4 my-1 d-print-inline",children:Object(u.jsx)("img",{className:"img-fluid",src:e.get("Character Card")[0].url,alt:"Character Card",width:"416",height:"297"})},e.get("Character Name"))}))})]})}var N=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={army:Array.apply(null,Array(3)).map((function(){})),managerView:"ArmyViewer",faction:void 0},n}return Object(o.a)(a,[{key:"setManagerView",value:function(){this.setState({managerView:"CharacterViewer"})}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:"Warband Manager"}),"CharacterViewer"===this.state.managerView?Object(u.jsx)(x,{faction:this.state.faction,miniatures:this.props.miniatures}):Object(u.jsx)(g,{army:this.state.army,setView:function(t){e.props.setView(t)},setManagerView:function(t){e.setState({managerView:t})},faction:this.state.faction,setFaction:function(t){e.setState({faction:t})}})]})}}]),a}(n.Component),p=a(48),C=a.n(p),w=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={count:0,view:"Home",miniatures:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;new C.a({apiKey:"keycAAcHBy1WJJYyl"}).base("appi27ynSRiwJ0WEQ")("Miniatures").select({view:"Grid view"}).eachPage((function(t,a){e.setState({miniatures:[].concat(Object(s.a)(e.state.miniatures),Object(s.a)(t))}),a()}))}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:"App container",children:[Object(u.jsx)("h1",{className:"d-print-none",children:"Warcraft Army Manager"}),"Home"===this.state.view?Object(u.jsx)(m,{setView:function(t){e.setState({view:t})}}):"Booster"===this.state.view?Object(u.jsx)(O,{miniatures:this.state.miniatures,setView:function(t){e.setState({view:t})}}):"Manager"===this.state.view?Object(u.jsx)(N,{miniatures:this.state.miniatures,setView:function(t){e.setState({view:t})}}):""]})}}]),a}(n.Component),y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,158)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};a(141),a(142);i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root")),y()},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){}},[[155,1,2]]]);
//# sourceMappingURL=main.141371dd.chunk.js.map